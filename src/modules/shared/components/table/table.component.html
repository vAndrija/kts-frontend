<div class="col-lg-12">
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table mat-table [dataSource]="tableDataSrc" class="mat-elevation-z8" style="width:100%">
                    <ng-container *ngFor="let col of tableColumns">
                        <ng-container matColumnDef="{{ col.key }}">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; font-size: medium;">
                                {{ col.header }}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <div *ngIf="col.key === 'status' && (element[col.key]=='U pripremi' || element[col.key]=='Pripremljeno'); else first">
                                    <div class="dropdown">
                                        <button *ngIf="element[col.key]=== 'U pripremi'" type="button"
                                            class="btn btn-warning light sharp btn-block" data-toggle="dropdown"
                                            value="">
                                            {{element[col.key]}}
                                        </button>
                                        <button *ngIf="element[col.key] === 'Pripremljeno'" type="button"
                                            class="btn btn-success light sharp btn-block" value="">
                                            {{element[col.key]}}
                                        </button>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" id="{{element['id']}}" (click)="changeStatus($event, 'Pripremljeno')">Pripremljeno</a>
                                        </div>
                                    </div>
                                </div>
                                <ng-template #first>
                                <div *ngIf="col.key === 'status' && (element[col.key]=='Poručeno' || element[col.key]=='Završeno' || element[col.key]=='Plaćeno' );else other">
                                    <div class="dropdown">
                                        <button *ngIf="element[col.key]=== 'Poručeno'" type="button"
                                            class="btn btn-warning light sharp btn-block" data-toggle="dropdown"
                                            value="">
                                            {{element[col.key]}}
                                        </button>
                                        <button *ngIf="element[col.key] === 'Završeno'" type="button"
                                            class="btn btn-primary light sharp btn-block" value="" data-toggle="dropdown">
                                            {{element[col.key]}}
                                        </button>
                                        <button *ngIf="element[col.key] === 'Plaćeno'" type="button"
                                            class="btn btn-success light sharp btn-block" value="">
                                            {{element[col.key]}}
                                        </button>
                                        <div class="dropdown-menu">
                                            <a *ngIf="element[col.key]=='Poručeno'" class="dropdown-item" id="{{element['id']}}" (click)="changeStatus($event, 'Završeno')">Završeno</a>
                                            <a *ngIf="element[col.key]=='Završeno'" class="dropdown-item" id="{{element['id']}}" (click)="changeStatus($event, 'Plaćeno')">Plaćeno</a>
                                        </div>
                                    </div>
                                </div>
                                </ng-template>
                                <ng-template #other> <ng-container *ngIf="col.key === 'dateOfOrder';else other_"> {{element[col.key] | customDateTime}}</ng-container></ng-template>
                                <ng-template #other_> {{element[col.key]}}</ng-template>
                            </td>
                        </ng-container>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                </table>
            </div>
        </div>
    </div>
</div>